<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MiCasa</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>

<body class="dark-theme">

<header class="navbar">
  <div class="inner-container">
    <a href="Home.html"><img class="logo" src="logo.png" alt="Logo"></a>

    <div style="display:flex; align-items:center; margin-right:2%;">
      <nav class="nav">
        <a href="Home.html" class="active">Home</a>
        <a href="AboutUs.html">About Us</a>

        <div class="dropdown">
          <a class="dropdown-toggle">Services </a>
          <div class="dropdown-menu">
            <a href="Rent.html">Rent</a>
            <a href="Sale.html">Sale</a>
          </div>
        </div>
      </nav>

      <button class="btn1">
        <a href="LoginRegister.html">Log In</a>
      </button>
    </div>
  </div>
</header>

<section class="FirstPart text-center py-5 d-flex align-items-center justify-content-center">
  <div class="wrap container">
    <h1 class="display-3 fw-bold text-white">Turning keys into Dreams</h1>
    <p class="lead text-white mb-4">Luxury homes. Smart investments. Seamless experience.</p>

    <div class="butonat d-flex justify-content-center gap-3">
      <button class="btn btn-light px-4 py-2 fw-bold"><a href="AboutUs.html" style="text-decoration: none; color: black;">Learn More</a></button>
      <a href="#services" class="btn btn-outline-light px-4 py-2 fw-bold text-decoration-none">
  Services
</a>

    </div>
  </div>
</section>

<section class="secondPart container">
  <div class="title">
    <div class="smallTitle">MiCasa Investment Spaces </div>
    <h2>Thoughtfully designed spaces for future & luxury</h2>
    <p>Choose from our selection of premium homes and lands.</p>
  </div>

  <div class="homes" id="services">
    <article class="property-card">
      <div class="foto" style="background-image:url('img/rent.jpg');">
        <a href="Rent.html" style="text-decoration:none; color:white;">Rent</a>
      </div>
    </article>

    <article class="property-card">
      <div class="foto" style="background-image:url('img/buy-sale.jpg');">
        <a href="Sale.html" style="text-decoration:none; color:white;">Buy/Sale</a>
      </div>
    </article>
  </div>

  <div class="thirdPart">
    <div class="lokacioni img">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d187266.69135334686!2d21.0009!3d42.6629!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x13549ee049e70efb%3A0x2d2a0b9e5c1d0f79!2sPrishtina!5e0!3m2!1sen!2s!4v0000000000000"
        width="100%" height="420" style="border:0;"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>

    <div class="lokacioni">
      <div class="copy">
        <div class="kicker">ABOUT MICASA</div>
        <h2 style="margin:8px 0 6px; font-family:'Playfair Display',serif;">
          Luxury Real Estate Agency in Prishtina, KS
        </h2>
        <p>
          We blend modern architecture with trusted expertise to help you find your perfect home.
          From elegant family houses to high-end estates, every property is chosen with care, comfort,
          and lasting value in mind.
        </p>

        <div class="statistika">
          <div class="stat">
            <div class="num">250+</div>
            <div class="lbl">Closed Deals</div>
          </div>
          <div class="stat">
            <div class="num">9.9</div>
            <div class="lbl">Average Rating</div>
          </div>
          <div class="stat">
            <div class="num">24/7</div>
            <div class="lbl">Open</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<div id="favorites-root"></div>


<div class="search-box">
  <h3 style="color:black;">Quick Property Search</h3>

  <div class="search-fields">
    <select id="typeSelect">
      <option value="">Rent or Buy</option>
      <option value="rent">Rent</option>
      <option value="sale">Buy / Sale</option>
    </select>

    <select id="locationSelect">
      <option value="">Location</option>
      <option value="Prishtina">Prishtina</option>
      <option value="Ulpiana">Ulpiana</option>
      <option value="Dardania">Dardania</option>
      <option value="Velania">Velania</option>
    </select>

    <select id="budgetSelect">
      <option value="">Budget</option>
      <option value="500">Up to 500â‚¬</option>
      <option value="1000">Up to 1,000â‚¬</option>
      <option value="2000">Up to 2,000â‚¬</option>
      <option value="5000">Up to 5,000â‚¬</option>
    </select>

    <button id="searchBtn" class="btn1" type="button">Search</button>
  </div>
</div>

<div id="results" class="mt-4"></div>

<footer class="footer bg-dark text-light py-5 mt-5">
  <div class="container">
    <div class="row gy-4">
      <div class="col-lg-4 col-md-6">
        <a href="Home.html" class="h3 text-white text-decoration-none font-serif">MiCasa</a>
        <p class="mt-3 text-secondary" style="max-width: 380px;">
          Experience excellence in every detail. From luxury estates to family homes,
          we connect people to the places theyâ€™ll love to call home.
        </p>
      </div>

      <div class="col-lg-2 col-md-6">
        <h5 class="text-white mb-3">Support</h5>
        <ul class="list-unstyled">
          <li class="mb-2"><a href="#" class="text-secondary text-decoration-none">Contact</a></li>
          <li class="mb-2"><a href="#" class="text-secondary text-decoration-none">FAQs</a></li>
          <li class="mb-2"><a href="#" class="text-secondary text-decoration-none">Policy</a></li>
          <li class="mb-2"><a href="#" class="text-secondary text-decoration-none">Terms of Service</a></li>
        </ul>
      </div>

      <div class="col-lg-3 col-md-6">
        <h5 class="text-white mb-3">Company</h5>
        <ul class="list-unstyled">
          <li class="mb-2"><a href="AboutUs.html" class="text-secondary text-decoration-none">About Us</a></li>
          <li class="mb-2"><a href="#" class="text-secondary text-decoration-none">Our Agents</a></li>
          <li class="mb-2"><a href="#" class="text-secondary text-decoration-none">Careers</a></li>
          <li class="mb-2"><a href="#" class="text-secondary text-decoration-none">Blog</a></li>
        </ul>
      </div>

      <div class="col-lg-3 col-md-6">
        <h5 class="text-white mb-3">Find Us</h5>
        <div class="text-secondary mb-2">Prishtine, KOSOVO</div>
        <div class="text-secondary mb-2">+383 12 345 667</div>
        <div class="text-secondary">hello@MiCasa.com</div>
      </div>
    </div>

    <hr class="border-secondary my-4">

    <div class="footer-bottom text-center text-secondary">
      Â© 2025 MiCasa. All Rights Reserved.
    </div>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


<script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>

<script>
  (function () {
    const STORAGE_KEY = "micasa_favorites_v1";
    const LOGIN_URL = "LoginRegister.html";
    const LOGIN_FLAG = "micasa_logged_in";

  
    localStorage.removeItem(STORAGE_KEY);

    const PROPERTIES = [
      { id: "p1", title: "Modern Apartment", location: "Prishtina", price: 950, type: "rent", image: "img/rent.jpg" },
      { id: "p2", title: "Luxury Villa", location: "Velania", price: 245000, type: "sale", image: "img/buy-sale.jpg" },
      { id: "p3", title: "Cozy Flat", location: "Ulpiana", price: 700, type: "rent", image: "img/rent.jpg" },
      { id: "p4", title: "Penthouse View", location: "Dardania", price: 1800, type: "rent", image: "img/rent.jpg" },
      { id: "p5", title: "Family House", location: "Prishtina", price: 165000, type: "sale", image: "img/buy-sale.jpg" },
      { id: "p6", title: "Studio Apartment", location: "Velania", price: 520, type: "rent", image: "img/rent.jpg" },
      { id: "p7", title: "City Center Flat", location: "Prishtina", price: 1200, type: "rent", image: "img/rent.jpg" },
      { id: "p8", title: "New Villa Project", location: "Ulpiana", price: 310000, type: "sale", image: "img/buy-sale.jpg" },
      { id: "p9", title: "Cozy House", location: "Dardania", price: 210000, type: "sale", image: "img/buy-sale.jpg" }
    ];

    function isLoggedIn() {
      return localStorage.getItem(LOGIN_FLAG) === "true";
    }

    function loadFavorites() {
      try {
        const raw = localStorage.getItem(STORAGE_KEY);
        return raw ? JSON.parse(raw) : [];
      } catch (e) {
        return [];
      }
    }

    function saveFavorites(favs) {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(favs));
    }

    function FavoritesSlider() {
      const e = React.createElement;

      const perPage = 3;

      const [favorites, setFavorites] = React.useState(loadFavorites());
      const [page, setPage] = React.useState(0);

      React.useEffect(() => {
        saveFavorites(favorites);
      }, [favorites]);

      const favoriteSet = new Set(favorites);

      function handleHeartClick(id) {
        if (!isLoggedIn()) {
          localStorage.setItem("redirect_after_login", window.location.href);
          window.location.href = LOGIN_URL;
          return;
        }
        setFavorites((prev) => {
          if (prev.includes(id)) return prev.filter((x) => x !== id);
          return prev.concat(id);
        });
      }

      const totalPages = Math.ceil(PROPERTIES.length / perPage);

      function prev() {
        setPage((p) => Math.max(0, p - 1));
      }

      function next() {
        setPage((p) => Math.min(totalPages - 1, p + 1));
      }

      const start = page * perPage;
      const visible = PROPERTIES.slice(start, start + perPage);

      const cards = visible.map((p) => {
        const isSaved = favoriteSet.has(p.id);
        const priceText = p.type === "rent"
          ? `â‚¬${p.price.toLocaleString()}/month`
          : `â‚¬${p.price.toLocaleString()}`;

        return e("div", { className: "col-md-4", key: p.id },
          e("div", { className: "card h-100 shadow-sm", style: { borderRadius: 14, overflow: "hidden" } },
            e("div", {
              style: {
                height: 180,
                backgroundImage: `url('${p.image}')`,
                backgroundSize: "cover",
                backgroundPosition: "center",
                position: "relative"
              }
            },
              e("button", {
                onClick: () => handleHeartClick(p.id),
                title: isSaved ? "Remove from saved" : "Save property",
                style: {
                  position: "absolute",
                  top: 12,
                  right: 12,
                  width: 42,
                  height: 42,
                  borderRadius: 999,
                  border: "none",
                  background: "rgba(255,255,255,0.95)",
                  cursor: "pointer",
                  fontSize: 18
                }
              }, isSaved ? "â¤ï¸" : "ðŸ¤"),

              e("div", {
                style: {
                  position: "absolute",
                  bottom: 10,
                  left: 10,
                  padding: "6px 10px",
                  borderRadius: 999,
                  background: "rgba(0,0,0,0.75)",
                  color: "#fff",
                  fontSize: 12
                }
              }, p.type.toUpperCase())
            ),

            e("div", { className: "card-body" },
              e("h5", { className: "card-title mb-1" }, p.title),
              e("div", { className: "text-muted mb-2" }, p.location),
              e("div", { className: "fw-bold" }, priceText)
            )
          )
        );
      });

      const savedItems = PROPERTIES.filter((p) => favoriteSet.has(p.id));

      const savedList = savedItems.length === 0
        ? e("div", { className: "text-muted" }, "No saved properties yet. Click the heart on a card.")
        : e("ul", { className: "mb-0" },
            savedItems.map((p) =>
              e("li", {
                key: p.id,
                className: "d-flex align-items-center justify-content-between py-1"
              },
                e("span", null, e("b", null, p.title), " â€” ", p.location),
                e("button", {
                  className: "btn btn-sm btn-outline-dark",
                  onClick: () => handleHeartClick(p.id)
                }, "Remove")
              )
            )
          );

      return e("div", { className: "mt-5 container" },

        e("div", { className: "d-flex align-items-center justify-content-between mb-3" },
          e("h3", { style: { fontFamily: "Playfair Display, serif" } }, "Most Frequented Properties"),

          e("div", { className: "d-flex align-items-center gap-2" },
            e("button", {
              className: "btn btn-outline-light",
              onClick: prev,
              disabled: page === 0
            }, "â€¹"),

            e("button", {
              className: "btn btn-outline-light",
              onClick: next,
              disabled: page === totalPages - 1
            }, "â€º")
          )
        ),

        e("div", { className: "row g-4" }, cards)
      );
    }

    document.addEventListener("DOMContentLoaded", function () {
      const mount = document.getElementById("favorites-root");
      if (!mount) return;
      ReactDOM.createRoot(mount).render(React.createElement(FavoritesSlider));
    });
  })();
</script>
<script src="js/home.js"></script>
</body>
</html>
